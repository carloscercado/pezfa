<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf">

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <body>

        <ui:composition template="./../../template/menu.xhtml">

            <ui:define name="content">
                <h:form>
                    <h3 align="center" style="color: #045491">Historial de compras</h3>


                    <p:dataTable selectionMode="single" selection="#{compraController.compra}" rowKey="#{compra.id}"
                                 widgetVar="historico" var="compra" value="#{compraController.historico}"
                                 emptyMessage="No se encontrar&oacute;n datos" reflow="true">
                        <f:facet name="header">
                            <p:ajax event="rowSelect" listener="#{compraController.onRowSelect}" />
                        </f:facet>

                        <p:column headerText="Orden">
                            #{compra.orden}
                        </p:column>

                        <p:column headerText="Fecha">
                            #{compra.fecha}
                        </p:column>

                        <p:column headerText="Proveedor">
                            #{compra.proveedor.nombre}
                        </p:column>

                        <p:column headerText="Chofer">
                            #{compra.chofer.primerNombre} #{compra.chofer.primerApellido}
                        </p:column>

                        <p:column headerText="Cami&oacute;n">
                            #{compra.camion.placa} #{compra.camion.modelo}
                        </p:column>

                        <p:column headerText="Gasto">
                            #{compra.gasto}
                        </p:column>
                        
                    </p:dataTable>
                </h:form>
                
                <p:dialog header="Detalles del historial" widgetVar="detalles" responsive="true" resizable="false" draggable="false" modal="true">
                  
                    Holas
                </p:dialog>
                
            </ui:define>
        </ui:composition>
    </body>
</html>